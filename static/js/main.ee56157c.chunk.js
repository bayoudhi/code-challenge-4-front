(this["webpackJsonpcode-challenge-4-front"]=this["webpackJsonpcode-challenge-4-front"]||[]).push([[0],{186:function(t,e,n){},188:function(t,e,n){},250:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),i=(n(186),n(24)),d=n.n(i),u=n(43),s=n(102),l=(n(188),n(254)),p=n(304),f=n(314),j=n(306),b=n(9),h=function(t){var e=t.onAdd,n=Object(r.useState)(""),a=Object(s.a)(n,2),o=a[0],c=a[1];return Object(b.jsx)(l.a,{style:{margin:16,padding:16},children:Object(b.jsxs)(p.a,{container:!0,children:[Object(b.jsx)(p.a,{xs:10,md:11,item:!0,style:{paddingRight:16},children:Object(b.jsx)(f.a,{fullWidth:!0,color:"primary",placeholder:"Add new todo",value:o,onChange:function(t){return c(t.target.value)},onKeyPress:function(t){o&&"Enter"===t.key&&(e(o),c(""))}})}),Object(b.jsx)(p.a,{xs:2,md:1,item:!0,children:Object(b.jsx)(j.a,{fullWidth:!0,color:"primary",variant:"contained",disabled:""===o,onClick:function(){e(o),c("")},children:"Add"})})]})})},v=n(307),m=n(308),O=n(106),y=Object(r.memo)((function(t){return Object(b.jsxs)(l.a,{elevation:0,style:{padding:0,margin:0,backgroundColor:"#fafafa"},children:[Object(b.jsx)(v.a,{color:"primary",position:"static",style:{height:64},children:Object(b.jsx)(m.a,{style:{height:64},children:Object(b.jsx)(O.a,{color:"inherit",children:"TODOS"})})}),t.children]})})),x=n(305),g=n(309),A=n(315),w=n(311),T=n(312),k=n(310),D=n(156),E=n.n(D),C=function(t){var e=t.todo,n=t.divider,r=t.onComplete,a=t.onUncomplete,o=t.onDelete;return Object(b.jsxs)(g.a,{divider:n,children:[Object(b.jsx)(A.a,{checked:e.completed,disableRipple:!0,onClick:function(){e.id&&(e.completed?a&&a(e.id):r&&r(e.id))}}),Object(b.jsx)(w.a,{primary:e.title}),Object(b.jsx)(T.a,{children:Object(b.jsx)(k.a,{"aria-label":"Delete Todo",onClick:function(){o&&e.id&&o(e.id)},children:Object(b.jsx)(E.a,{})})})]})},$=function(t){var e=t.items,n=t.onComplete,r=t.onUncomplete,a=t.onDelete;return Object(b.jsx)(b.Fragment,{children:e.length>0&&Object(b.jsx)(l.a,{style:{margin:16},children:Object(b.jsx)(x.a,{style:{overflow:"scroll"},children:e.map((function(t,o){return Object(b.jsx)(C,{todo:t,onComplete:n,onUncomplete:r,onDelete:a,divider:o!==e.length-1},t.id)}))})})})},I=n(163),S=n(68),_=n(148),q=function(){var t=Object(u.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.graphql(Object(_.b)("\n  query GetTodos($limit: Int, $token: String) {\n    getTodos(limit: $limit, token: $token) {\n      Items {\n        id\n        title\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",e));case 2:return r=t.sent,t.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.getTodos);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.graphql(Object(_.b)("\n  mutation CreateTodo($title: String!) {\n    createTodo(title: $title) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",e));case 2:return r=t.sent,t.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.createTodo);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.graphql(Object(_.b)("\n  mutation DeleteTodo($id: ID!) {\n    deleteTodo(id: $id) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",e));case 2:return r=t.sent,t.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.deleteTodo);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.graphql(Object(_.b)("\n  mutation UpdateTodo($id: ID!, $todo: UpdateTodoInput!) {\n    updateTodo(id: $id, todo: $todo) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",e));case 2:return r=t.sent,t.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.updateTodo);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=n(83),J=n(74);function K(t,e){if("SET"===e.type){var n,r={};return null===(n=e.payload)||void 0===n||n.forEach((function(t){t.id&&(r[t.id]=t)})),{todos:r}}if("ADD"===e.type){var a=e.payload;if(a.id)return{todos:Object(J.a)(Object(J.a)({},t.todos),{},Object(L.a)({},a.id,a))}}if("UPDATE"===e.type){var o=e.payload;if(o.id){var c=t.todos[o.id];if(o.updatedAt&&c.updatedAt&&o.updatedAt>=c.updatedAt)return{todos:Object(J.a)(Object(J.a)({},t.todos),{},Object(L.a)({},o.id,o))}}}if("DELETE"===e.type){var i=e.payload.id,d=Object(J.a)({},t);return i&&delete d.todos[i],d}return t}I.default.configure(JSON.parse('{"aws_appsync_graphqlEndpoint":"https://idkb44qmjvd3znoeot5dahf35y.appsync-api.us-east-1.amazonaws.com/graphql","aws_appsync_region":"us-east-1","aws_appsync_authenticationType":"API_KEY","aws_appsync_apiKey":"da2-jfpe7wl7mjbytm36wwedoea27e"}'));var R=function(){var t=Object(r.useReducer)(K,{todos:{}}),e=Object(s.a)(t,2),n=e[0],a=e[1];Object(r.useEffect)((function(){return q({}).then((function(t){a({type:"SET",payload:(null===t||void 0===t?void 0:t.Items)||[]})})),function(){}}),[]);var o=function(){var t=Object(u.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U({title:e});case 2:(n=t.sent)&&a({type:"ADD",payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P({id:e});case 2:a({type:"DELETE",payload:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(u.a)(d.a.mark((function t(e){var r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.todos[e],t.next=3,F({id:e,todo:{completed:!(null===r||void 0===r?void 0:r.completed),title:(null===r||void 0===r?void 0:r.title)||""}});case 3:(o=t.sent)&&a({type:"UPDATE",payload:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(y,{children:[Object(b.jsx)(h,{onAdd:o}),Object(b.jsx)($,{onComplete:i,onUncomplete:i,onDelete:c,items:Object.keys(n.todos).map((function(t){return n.todos[t]})).sort((function(t,e){if(t.createdAt&&e.createdAt){if(t.createdAt<e.createdAt)return 1;if(t.createdAt>e.createdAt)return-1}return 0}))})]})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,317)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root")),z()}},[[250,1,2]]]);
//# sourceMappingURL=main.ee56157c.chunk.js.map