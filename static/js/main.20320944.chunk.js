(this["webpackJsonpcode-challenge-4-front"]=this["webpackJsonpcode-challenge-4-front"]||[]).push([[0],{187:function(e,t,n){},189:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),i=(n(187),n(39)),d=n(24),u=n.n(d),s=n(44),l=n(85),p=(n(189),n(255)),f=n(306),j=n(317),b=n(308),h=n(10),v=function(e){var t=e.onAdd,n=Object(r.useState)(""),a=Object(l.a)(n,2),o=a[0],c=a[1];return Object(h.jsx)(p.a,{style:{margin:16,padding:16},children:Object(h.jsxs)(f.a,{container:!0,children:[Object(h.jsx)(f.a,{xs:10,md:11,item:!0,style:{paddingRight:16},children:Object(h.jsx)(j.a,{fullWidth:!0,color:"primary",placeholder:"Add new todo",value:o,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){o&&"Enter"===e.key&&(t(o),c(""))}})}),Object(h.jsx)(f.a,{xs:2,md:1,item:!0,children:Object(h.jsx)(b.a,{fullWidth:!0,color:"primary",variant:"contained",disabled:""===o,onClick:function(){t(o),c("")},children:"Add"})})]})})},O=n(309),m=n(310),y=n(108),x=Object(r.memo)((function(e){return Object(h.jsxs)(p.a,{elevation:0,style:{padding:0,margin:0,backgroundColor:"#fafafa"},children:[Object(h.jsx)(O.a,{color:"primary",position:"static",style:{height:64},children:Object(h.jsx)(m.a,{style:{height:64},children:Object(h.jsx)(y.a,{color:"inherit",children:"TODOS"})})}),e.children]})})),g=n(307),A=n(311),T=n(318),w=n(313),k=n(314),D=n(312),E=n(157),C=n.n(E),$=function(e){var t=e.todo,n=e.divider,r=e.onComplete,a=e.onUncomplete,o=e.onDelete;return Object(h.jsxs)(A.a,{divider:n,children:[Object(h.jsx)(T.a,{checked:t.completed,disableRipple:!0,onClick:function(){t.id&&(t.completed?a&&a(t.id):r&&r(t.id))}}),Object(h.jsx)(w.a,{primary:t.title}),Object(h.jsx)(k.a,{children:Object(h.jsx)(D.a,{"aria-label":"Delete Todo",onClick:function(){o&&t.id&&o(t.id)},children:Object(h.jsx)(C.a,{})})})]})},S=function(e){var t=e.items,n=e.onComplete,r=e.onUncomplete,a=e.onDelete;return Object(h.jsx)(h.Fragment,{children:t.length>0&&Object(h.jsx)(p.a,{style:{margin:16},children:Object(h.jsx)(g.a,{style:{overflow:"scroll"},children:t.map((function(e,o){return Object(h.jsx)($,{todo:e,onComplete:n,onUncomplete:r,onDelete:a,divider:o!==t.length-1},e.id)}))})})})},U=n(164),I=n(70),_=n(149),q=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.graphql(Object(_.b)("\n  query GetTodos($limit: Int, $token: String) {\n    getTodos(limit: $limit, token: $token) {\n      Items {\n        id\n        title\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",t));case 2:return r=e.sent,e.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.getTodos);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.graphql(Object(_.b)("\n  mutation CreateTodo($title: String!) {\n    createTodo(title: $title) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",t));case 2:return r=e.sent,e.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.createTodo);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.graphql(Object(_.b)("\n  mutation DeleteTodo($id: ID!) {\n    deleteTodo(id: $id) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",t));case 2:return r=e.sent,e.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.deleteTodo);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.graphql(Object(_.b)("\n  mutation UpdateTodo($id: ID!, $todo: UpdateTodoInput!) {\n    updateTodo(id: $id, todo: $todo) {\n      id\n      title\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",t));case 2:return r=e.sent,e.abrupt("return",null===(n=r.data)||void 0===n?void 0:n.updateTodo);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=n(81);function K(e,t){if("SET"===t.type){var n,r={};return null===(n=t.payload)||void 0===n||n.forEach((function(e){e.id&&(r[e.id]=e)})),{todos:r}}if("ADD"===t.type){var a=t.payload;if(a.id)return{todos:Object(i.a)(Object(i.a)({},e.todos),{},Object(J.a)({},a.id,a))}}if("UPDATE"===t.type){var o=t.payload;if(o.id){var c=e.todos[o.id];if(o&&o.updatedAt&&c&&c.updatedAt&&o.updatedAt>=c.updatedAt)return{todos:Object(i.a)(Object(i.a)({},e.todos),{},Object(J.a)({},o.id,o))}}}if("DELETE"===t.type){var d=t.payload.id,u=Object(i.a)({},e);return d&&delete u.todos[d],u}return e}var R=n(316);U.default.configure(JSON.parse('{"aws_appsync_graphqlEndpoint":"https://idkb44qmjvd3znoeot5dahf35y.appsync-api.us-east-1.amazonaws.com/graphql","aws_appsync_region":"us-east-1","aws_appsync_authenticationType":"API_KEY","aws_appsync_apiKey":"da2-jfpe7wl7mjbytm36wwedoea27e"}'));var z=function(){var e=Object(r.useReducer)(K,{todos:{}}),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!0),c=Object(l.a)(o,2),d=c[0],p=c[1];Object(r.useEffect)((function(){return q({}).then((function(e){p(!1),a({type:"SET",payload:(null===e||void 0===e?void 0:e.Items)||[]})})).catch((function(e){p(!1),console.error(e)})),function(){}}),[]);var f=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,P({title:t});case 4:(n=e.sent)&&a({type:"ADD",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)({},n.todos[t]),e.prev=1,p(!0),a({type:"DELETE",payload:{id:t}}),e.next=6,F({id:t});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),a({type:"ADD",payload:r});case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(u.a.mark((function e(t){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.todos[t],e.prev=1,p(!0),a({type:"UPDATE",payload:Object(i.a)(Object(i.a)({},r),{},{completed:!(null===r||void 0===r?void 0:r.completed)})}),e.next=6,L({id:t,todo:{completed:!(null===r||void 0===r?void 0:r.completed),title:(null===r||void 0===r?void 0:r.title)||""}});case 6:(o=e.sent)&&a({type:"UPDATE",payload:o}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),a({type:"UPDATE",payload:r});case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(x,{children:[d&&Object(h.jsx)(R.a,{color:"secondary"}),Object(h.jsx)(v,{onAdd:f}),Object(h.jsx)(S,{onComplete:b,onUncomplete:b,onDelete:j,items:Object.keys(n.todos).map((function(e){return n.todos[e]})).sort((function(e,t){if(e.createdAt&&t.createdAt){if(e.createdAt<t.createdAt)return 1;if(e.createdAt>t.createdAt)return-1}return 0}))})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,319)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root")),B()}},[[251,1,2]]]);
//# sourceMappingURL=main.20320944.chunk.js.map